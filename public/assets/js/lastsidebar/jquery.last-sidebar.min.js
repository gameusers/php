/*
 * jQuery Last Sidebar v1.2.0 - horizontal slide menu plugin
 *
 * under the MIT license
 * http://opensource.org/licenses/MIT
 *
 * Written while knead boobs in one hand by Suzusaki Makoto
 * http://xn--nckmepf1g6g.com/
 */
!function(e){e.fn.lastSidebar=function(t){function i(){if(d.hasClass("open")&&(d.css(r.align,0).removeClass("open"),e(r.itemTrigger).removeClass("active"),e(g).hide()),d.hasClass("noscroll")){var t=-1*parseInt(d.css("top"));d.removeClass("noscroll").scrollTop(t).css("top",""),e("html").height("")}s()}function s(){if(c){var t,i;if(!r.breakPoint||window.innerWidth<=r.breakPoint){switch(r.align){case"right":t="auto",i=-l.width();break;case"left":t=-l.width(),i="auto"}l.css({left:t,right:i}).hide()}else l.css({left:"",right:""}),e(g).hide();c=!1}}function n(){var t=l.outerWidth();if(d.toggleClass("open"),!r.breakPoint||window.innerWidth<=r.breakPoint)if(d.hasClass("open")){switch(r.openBefore(),e(g).stop().fadeIn(r.speed),r.align){case"right":l.stop().show().animate({right:0},r.speed,"swing"),d.stop().animate({right:t},r.speed,"swing");break;case"left":l.stop().show().animate({left:0},r.speed,"swing"),d.stop().animate({left:t},r.speed,"swing")}e(r.itemTrigger).addClass("active"),r.noscroll&&(e("html").height(window.innerHeight),o=e(window).scrollTop(),d.addClass("noscroll").css("top",-1*o)),c=!0,r.openAfter()}else{switch(r.closeBefore(),e(g).stop().fadeOut(r.speed),r.align){case"right":l.stop().animate({right:-t},r.speed,"swing",function(){l.hide()}),d.stop().animate({right:0},r.speed,"swing");break;case"left":l.stop().animate({left:-t},r.speed,"swing",function(){l.hide()}),d.stop().animate({left:0},r.speed,"swing")}e(r.itemTrigger).removeClass("active"),r.noscroll&&(e("html").height(""),d.removeClass("noscroll").css("top",""),e(window).scrollTop(o)),c=!1,r.closeAfter()}return!1}var o,a={itemTrigger:"#menuTrigger",align:"right",speed:300,breakPoint:!1,noscroll:!1,openBefore:function(){},openAfter:function(){},closeBefore:function(){},closeAfter:function(){}},r=e.extend(a,t),l=this,d=e(document.body),c=!0;l.addClass("lastSidebar");var g="#lastOverlay",h=document.createElement("a");h.setAttribute("href","#"),h.id="lastOverlay",document.body.appendChild(h),s();var f,p;return navigator.userAgent.indexOf("iPhone")>0&&-1===navigator.userAgent.indexOf("iPad")||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0?(f="orientationchange",p="click"):(f="resize",p="click"),e(window).on(f,i),e(r.itemTrigger+", "+g).on(p,n),e(window).on("scroll",function(){e("body").hasClass("noscroll")&&e("html").height(window.innerHeight)}),this}}(jQuery);
